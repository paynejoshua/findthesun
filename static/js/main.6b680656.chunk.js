(this.webpackJsonpfindthesun=this.webpackJsonpfindthesun||[]).push([[0],{44:function(e,t,a){},45:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(15),i=a.n(o),r=(a(44),a(45),a(29),a(6)),s=a(11),l=a.n(s),d=a(38),h=a(69),j=a(70),u=a(71),b=a.p+"static/media/jumping_pin.1ddb6053.gif",O=a(16),p=a(12),m=a(1);var g=function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(O.a,{show:e.show,onHide:e.onHide,children:[Object(m.jsx)(O.a.Header,{closeButton:!0,children:" Enter By Zip or City Name"}),Object(m.jsxs)(O.a.Body,{children:[Object(m.jsx)("input",{onChange:function(t){return e.zip(t.target.value)},placeholder:"Enter Current Zip Code"}),Object(m.jsx)(p.a,{onClick:e.onHide,children:"Set Location"})]})]})})};var f=function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),c=(a[0],a[1]),o=Object(n.useState)(),i=Object(r.a)(o,2),s=i[0],l=i[1];return Object(m.jsx)(m.Fragment,{children:e.locationPermission?Object(m.jsx)(g,{callCurrentWeather:e.getWeather,show:function(){return c(!0)},onHide:function(){c(!1),e.getWeather(s)},zip:l}):Object(m.jsxs)("h1",{children:[Object(m.jsx)("span",{children:Object(m.jsx)("img",{src:b,style:{width:"3rem",height:"3rem",borderRadius:"50%",zoom:"100%"}})})," Hold On while we locate you"]})})},x=a(22),w=a(23),y=a(17),S=a(14);var v=function(e){var t=Object(n.useState)(),a=Object(r.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(),s=Object(r.a)(i,2),l=s[0],d=s[1],h=Object(n.useState)(),j=Object(r.a)(h,2),u=j[0],b=j[1],O=Object(n.useState)(),g=Object(r.a)(O,2),f=g[0],x=g[1],w=Object(n.useState)(),y=Object(r.a)(w,2),S=y[0],v=y[1];function L(e){return e*(Math.PI/180)}return Object(n.useEffect)((function(){d(e.currentLat),b(e.currentLon),x(e.destinationLat),v(e.destinationLon),function(e,t,a,n){var c=3958.8,i=L(a-e),r=L(n-t),s=Math.sin(i/2)*Math.sin(i/2)+Math.cos(L(e))*Math.cos(L(a))*Math.sin(r/2)*Math.sin(r/2),l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),d=c*l;o(Math.trunc(d)+48)}(l,u,f,S)}),[c]),console.log("here",c),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("p",{children:["Around ",c," miles / ",Math.trunc(c/60)," hours away!"]}),Object(m.jsx)(p.a,{children:"Take Me There!"})]})};function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,a=new Promise((function(a,n){var c=new Promise((function(e){return setTimeout(e,t)}));Promise.all([e,c]).then((function(e){a(e[0])})).catch((function(e){n(e)}))}));return a}var C=function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(p.a,{variant:"warning",size:"sm",className:"dropShadow",onClick:function(){var t=Math.trunc(e.currentLon),a=Math.trunc(e.currentLat),n=t+5,c=a+5;e.loadingWeather(!0),l.a.get("https://api.openweathermap.org/data/2.5/box/city?bbox=".concat(t,",").concat(a,",").concat(n,",").concat(c,",10&appid=").concat(e.webApiKey,"&units=imperial")).then((function(t){var a=t.data.list,n=[];console.log(t);for(var c=0;c<a.length;c++)"01d"!==a[c].weather[0].icon&&"01n"!==a[c].weather[0].icon||(n[c]={name:a[c].name,lat:a[c].coord.Lat,lon:a[c].coord.Lon,weather:a[c].weather[0].description.toUpperCase(),icon:a[c].weather[0].icon},e.places(n));e.loadingWeather(!1),e.hasWeatherLoaded(!0)})).catch((function(t){console.log(t),e.loadingWeather(!1)}))},children:e.sunny?"Where else is it sunny?":"Find that Sun!"})})},M=a(39),F=a(20);var N=function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(O.a,{show:e.show,onHide:e.onHide,children:[Object(m.jsx)(O.a.Header,{closeButton:!0,children:" Enter By Zip or City Name"}),Object(m.jsxs)(O.a.Body,{children:[Object(m.jsx)("input",{onChange:function(t){return e.locationInput(t.target.value)},placeholder:"Enter Zip or City Name"}),Object(m.jsx)(p.a,{onClick:e.stringVerification,children:"Add"})]})]})})};var T=function(e){var t=Object(n.useState)([]),a=Object(r.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(!0),s=Object(r.a)(i,2),d=s[0],h=s[1],j=Object(n.useState)(!1),u=Object(r.a)(j,2),b=u[0],O=u[1],g=Object(n.useState)(),f=Object(r.a)(g,2),v=f[0],L=f[1],C=Object(n.useState)([]),T=Object(r.a)(C,2),I=T[0],P=T[1],k=Object(n.useState)(),A=Object(r.a)(k,2),z=A[0],E=A[1],H=Object(n.useState)(!1),W=Object(r.a)(H,2),B=W[0],_=W[1];return Object(n.useEffect)((function(){var t=[],a=[],n=JSON.parse(localStorage.getItem("favoriteLocations")||"0");if(n){E(!1),console.log("ls GET",n),_(!1),P(n);for(var c=0;c<n.length;c++)if(console.log("localStorageValues",n[c]),/^[a-zA-Z _]+$/.test(n[c])){var i=l.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(n[c],"&appid=").concat(e.webAPIKey,"&units=imperial"));a.push(i),i.then((function(e){var a={city:e.data.name,currentTemp:Math.ceil(e.data.main.temp),highTemp:Math.ceil(e.data.main.temp_max),lowTemp:Math.ceil(e.data.main.temp_min),icon:e.data.weather[0].icon,weatherDescription:e.data.weather[0].description};t.push(a)})).catch((function(e){console.log("error:",e)}))}else if(0==isNaN(n[c])){var r=l.a.get("https://api.openweathermap.org/data/2.5/weather?zip=".concat(n[c],"&appid=").concat(e.webAPIKey,"&units=imperial"));a.push(r),r.then((function(e){var a={city:e.data.name,currentTemp:Math.ceil(e.data.main.temp),highTemp:Math.ceil(e.data.main.temp_max),lowTemp:Math.ceil(e.data.main.temp_min),icon:e.data.weather[0].icon,weatherDescription:e.data.weather[0].description};t.push(a)})).catch((function(e){console.log("error:",e)}))}Promise.all(a).then((function(){h(!0),o(t)}))}else console.log("no favorites in LS"),E(!0),_(!1)}),[B]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(N,{locationInput:L,show:b,onHide:function(){return O(!1)},stringVerification:function(){if(/^[a-zA-Z _]+$/.test(v)){O(!1),console.log("this is a city");var t=I;t.push(v),P(t),localStorage.setItem("favoriteLocations",JSON.stringify(t)),E(!1),_(!0),l.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(v,"&appid=").concat(e.webAPIKey,"&units=imperial")).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}else if(0==isNaN(v)&&5==v.length){O(!1),console.log("this is a zip");var a=I;a.push(v),P(a),localStorage.setItem("favoriteLocations",JSON.stringify(a)),E(!1),_(!0),l.a.get("https://api.openweathermap.org/data/2.5/weather?zip=".concat(v,"&appid=").concat(e.webAPIKey,"&units=imperial")).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}else console.log("Incorrect input given. Please provide a valid City or 5 digit Zip code")}}),Object(m.jsx)(x.a,{fluid:!0,children:d?Object(m.jsxs)(w.a,{children:[Object(m.jsxs)(y.a,{sm:12,md:12,lg:12,xl:12,xxl:12,children:[Object(m.jsx)(p.a,{className:"dropShadow",variant:"warning",size:"sm",onClick:function(){O(!0)},children:"Add A Favorite"}),Object(m.jsx)("div",{style:{marginTop:"1rem"},children:z?"No Favorites Added Yet":"Favorites:"})]}),c.map((function(e){return Object(m.jsx)(y.a,{children:Object(m.jsxs)(S.a,{style:{width:"18rem"},className:"dropShadow mt-3 mb-3",children:[Object(m.jsxs)(S.a.Body,{children:[Object(m.jsxs)(S.a.Title,{children:["City: ",e.city]}),Object(m.jsxs)(S.a.Subtitle,{className:"mb-2 text-muted",children:["Current Temperature: ",e.currentTemp,"\xb0"]})]}),Object(m.jsxs)(M.a,{className:"list-group-flush",children:[Object(m.jsxs)(F.a,{children:["Current Weather Conditions: ",e.weatherDescription]}),Object(m.jsxs)(F.a,{children:["High: ",e.highTemp,"\xb0"]}),Object(m.jsxs)(F.a,{children:["Low: ",e.lowTemp,"\xb0"]})]})]})},e.city)}))]}):Object(m.jsx)("div",{children:" Favorites Loading..."})})]})};var I=function(e){var t=Object(n.useState)("a4a8fbe7c144be93020e3a7f15b622db"),a=Object(r.a)(t,1)[0],c=Object(n.useState)(),o=Object(r.a)(c,2),i=o[0],s=o[1],b=Object(n.useState)(),O=Object(r.a)(b,2),p=O[0],g=O[1],M=Object(n.useState)(),F=Object(r.a)(M,2),N=F[0],I=F[1],P=Object(n.useState)(),k=Object(r.a)(P,2),A=k[0],z=k[1],E=Object(n.useState)(),H=Object(r.a)(E,2),W=H[0],B=H[1],_=Object(n.useState)([]),D=Object(r.a)(_,2),K=D[0],Z=D[1],J=Object(n.useState)(),q=Object(r.a)(J,2),V=(q[0],q[1]),G=Object(n.useState)(!1),R=Object(r.a)(G,2),$=(R[0],R[1]),U=Object(n.useState)(!1),Y=Object(r.a)(U,2),Q=Y[0],X=Y[1],ee=Object(n.useState)(),te=Object(r.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)(!0),oe=Object(r.a)(ce,2),ie=oe[0],re=oe[1],se=Object(n.useState)(!1),le=Object(r.a)(se,2),de=(le[0],le[1]),he=Object(n.useState)(!1),je=Object(r.a)(he,2),ue=je[0],be=je[1];function Oe(e){var t,n;de(!0),s(e.coords.latitude),g(e.coords.longitude),t=e.coords.latitude,n=e.coords.longitude,re(!0),console.log("start"),L(l.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(t,"&lon=").concat(n,"&appid=").concat(a,"&units=imperial")),0).then((function(e){console.log("local weather",e),V(e.data.weather[0].icon),ne(e.data.name),e.data.clouds.all<=10?(I(!0),z(!1),B(!1)):"01n"===e.data.weather[0].icon||"04n"===e.data.weather[0].icon?(z(!0),I(!1),B(!1)):e.data.clouds.all>10?(I(!1),B(!0),z(!1)):(I(!1),B(!1),z(!1)),re(!1),console.log("end")})).catch((function(e){console.log(e),re(!1)}))}function pe(e){e.PERMISSION_DENIED&&be(!0)}return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition(Oe,pe)}),[i,p]),console.log("location denied lat and lon",i,p),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(d.a,{className:W?"cloudy":"",style:N?{background:"linear-gradient(180deg,#b8a9af,#FFDF00)"}:A?{background:"black"}:{},children:[A?Object(m.jsx)(h.a,{style:{fill:"white"}}):N?Object(m.jsx)(j.a,{}):W?Object(m.jsx)(u.a,{style:{color:"white"}}):Object(m.jsx)("div",{}),ie?Object(m.jsx)(f,{locationPermission:ue,getWeather:function(e){re(!0),console.log("zip",e),L(l.a.get("https://api.openweathermap.org/data/2.5/weather?zip=".concat(e,"&appid=").concat(a,"&units=imperial")),0).then((function(e){s(e.data.coord.lat),g(e.data.coord.lon),V(e.data.weather[0].icon),ne(e.data.name),e.data.clouds.all<=10?(I(!0),z(!1),B(!1)):"01n"===e.data.weather[0].icon||"04n"===e.data.weather[0].icon?(z(!0),I(!1),B(!1)):e.data.clouds.all>10?(I(!1),B(!0),z(!1)):(I(!1),B(!1),z(!1)),re(!1),console.log("end")})).catch((function(e){console.log(e),re(!1)}))}}):N?Object(m.jsxs)("h2",{children:["Congrats it's sunny in ",ae,"!"]}):W?Object(m.jsxs)("h2",{style:{color:"white"},children:["Looks like it's cloudy in ",ae]}):A?Object(m.jsxs)("h2",{style:{color:"white"},children:["Go to sleep, and good night, may the sun shine brightly tomorrow in ",ae]}):Object(m.jsxs)("h2",{children:["Oh dear...it looks like it's not sunny in ",ae]})]}),Object(m.jsx)("br",{}),ie?Object(m.jsx)(m.Fragment,{children:"Please Hold..."}):Object(m.jsx)(x.a,{fluid:!0,children:Object(m.jsxs)(w.a,{children:[Object(m.jsxs)(y.a,{sm:12,md:6,lg:6,xl:6,style:{borderStyle:"solid"},children:[Object(m.jsx)(C,{checkSun:N,currentLat:i,currentLon:p,webApiKey:a,loadingWeather:function(e){return $(e)},hasWeatherLoaded:function(e){return X(e)},places:function(e){return Z(e)}}),Q?Object(m.jsx)("p",{style:{marginTop:"1rem"},children:"It is currently sunny here: "}):Object(m.jsx)("p",{style:{marginTop:"1rem"},children:"Just waiting on you to click on that button"}),K.map((function(e){return Object(m.jsx)(y.a,{children:Object(m.jsxs)(S.a,{style:{width:"18rem"},className:"sunny mt-5 dropShadow",children:[Object(m.jsx)(j.a,{style:{fill:"orange"}}),Object(m.jsx)(S.a.Title,{children:e.name}),Object(m.jsxs)(S.a.Body,{className:"sunny",children:[e.weather,Object(m.jsx)(v,{currentLat:i,currentLon:p,destinationLat:e.lat,destinationLon:e.lon})]})]})},e.name)}))]}),Object(m.jsx)(y.a,{sm:12,md:6,lg:6,xl:6,style:{borderStyle:"solid"},children:Object(m.jsx)(T,{webAPIKey:a})})]})})]})};var P=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(I,{})})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,72)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),o(e),i(e)}))};i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(P,{})}),document.getElementById("root")),k()}},[[67,1,2]]]);
//# sourceMappingURL=main.6b680656.chunk.js.map