(this.webpackJsonpfindthesun=this.webpackJsonpfindthesun||[]).push([[0],{44:function(e,t,a){},45:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(15),o=a.n(i),r=(a(44),a(45),a(29),a(6)),s=a(11),l=a.n(s),h=a(38),d=a(69),j=a(70),u=a(71),b=a.p+"static/media/jumping_pin.1ddb6053.gif",O=a(1);var p=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("h1",{children:[Object(O.jsx)("span",{children:Object(O.jsx)("img",{src:b,style:{width:"3rem",height:"3rem",borderRadius:"50%",zoom:"100%"}})})," Hold On while we locate you"]})})},m=a(21),g=a(22),f=a(16),x=a(13),w=a(14);var y=function(e){var t=Object(n.useState)(),a=Object(r.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)(),s=Object(r.a)(o,2),l=s[0],h=s[1],d=Object(n.useState)(),j=Object(r.a)(d,2),u=j[0],b=j[1],p=Object(n.useState)(),m=Object(r.a)(p,2),g=m[0],f=m[1],x=Object(n.useState)(),y=Object(r.a)(x,2),v=y[0],S=y[1];function L(e){return e*(Math.PI/180)}return Object(n.useEffect)((function(){h(e.currentLat),b(e.currentLon),f(e.destinationLat),S(e.destinationLon),function(e,t,a,n){var c=3958.8,o=L(a-e),r=L(n-t),s=Math.sin(o/2)*Math.sin(o/2)+Math.cos(L(e))*Math.cos(L(a))*Math.sin(r/2)*Math.sin(r/2),l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),h=c*l;i(Math.trunc(h)+48)}(l,u,g,v)}),[c]),console.log("here",c),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("p",{children:["Around ",c," miles / ",Math.trunc(c/60)," hours away!"]}),Object(O.jsx)(w.a,{children:"Take Me There!"})]})};var v=function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(w.a,{variant:"warning",size:"sm",className:"dropShadow",onClick:function(){var t=Math.trunc(e.currentLon),a=Math.trunc(e.currentLat),n=t+5,c=a+5;e.loadingWeather(!0),l.a.get("https://api.openweathermap.org/data/2.5/box/city?bbox=".concat(t,",").concat(a,",").concat(n,",").concat(c,",10&appid=").concat(e.webApiKey,"&units=imperial")).then((function(t){var a=t.data.list,n=[];console.log(t);for(var c=0;c<a.length;c++)"01d"!==a[c].weather[0].icon&&"01n"!==a[c].weather[0].icon||(n[c]={name:a[c].name,lat:a[c].coord.Lat,lon:a[c].coord.Lon,weather:a[c].weather[0].description.toUpperCase(),icon:a[c].weather[0].icon},e.places(n));e.loadingWeather(!1),e.hasWeatherLoaded(!0)})).catch((function(t){console.log(t),e.loadingWeather(!1)}))},children:e.sunny?"Where else is it sunny?":"Find that Sun!"})})},S=a(39),L=a(19),M=a(24);var T=function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(M.a,{show:e.show,onHide:e.onHide,children:[Object(O.jsx)(M.a.Header,{closeButton:!0,children:" Enter By Zip or City Name"}),Object(O.jsxs)(M.a.Body,{children:[Object(O.jsx)("input",{onChange:function(t){return e.locationInput(t.target.value)},placeholder:"Enter Zip or City Name"}),Object(O.jsx)(w.a,{onClick:e.stringVerification,children:"Add"})]})]})})};var F=function(e){var t=Object(n.useState)([]),a=Object(r.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)(!0),s=Object(r.a)(o,2),h=s[0],d=s[1],j=Object(n.useState)(!1),u=Object(r.a)(j,2),b=u[0],p=u[1],y=Object(n.useState)(),v=Object(r.a)(y,2),M=v[0],F=v[1],N=Object(n.useState)([]),C=Object(r.a)(N,2),k=C[0],I=C[1],P=Object(n.useState)(),A=Object(r.a)(P,2),z=A[0],W=A[1],B=Object(n.useState)(!1),E=Object(r.a)(B,2),H=E[0],K=E[1];return Object(n.useEffect)((function(){var t=[],a=[],n=JSON.parse(localStorage.getItem("favoriteLocations")||"0");if(n){W(!1),console.log("ls GET",n),K(!1),I(n);for(var c=0;c<n.length;c++)if(console.log("localStorageValues",n[c]),/^[a-zA-Z _]+$/.test(n[c])){var o=l.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(n[c],"&appid=").concat(e.webAPIKey,"&units=imperial"));a.push(o),o.then((function(e){var a={city:e.data.name,currentTemp:Math.ceil(e.data.main.temp),highTemp:Math.ceil(e.data.main.temp_max),lowTemp:Math.ceil(e.data.main.temp_min),icon:e.data.weather[0].icon,weatherDescription:e.data.weather[0].description};t.push(a)})).catch((function(e){console.log("error:",e)}))}else if(0==isNaN(n[c])){var r=l.a.get("https://api.openweathermap.org/data/2.5/weather?zip=".concat(n[c],"&appid=").concat(e.webAPIKey,"&units=imperial"));a.push(r),r.then((function(e){var a={city:e.data.name,currentTemp:Math.ceil(e.data.main.temp),highTemp:Math.ceil(e.data.main.temp_max),lowTemp:Math.ceil(e.data.main.temp_min),icon:e.data.weather[0].icon,weatherDescription:e.data.weather[0].description};t.push(a)})).catch((function(e){console.log("error:",e)}))}Promise.all(a).then((function(){d(!0),i(t)}))}else console.log("no favorites in LS"),W(!0),K(!1)}),[H]),console.log(M),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T,{locationInput:F,show:b,onHide:function(){return p(!1)},stringVerification:function(){if(/^[a-zA-Z _]+$/.test(M)){p(!1),console.log("this is a city");var t=k;t.push(M),I(t),localStorage.setItem("favoriteLocations",JSON.stringify(t)),W(!1),K(!0),l.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(M,"&appid=").concat(e.webAPIKey,"&units=imperial")).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}else if(0==isNaN(M)&&5==M.length){p(!1),console.log("this is a zip");var a=k;a.push(M),I(a),localStorage.setItem("favoriteLocations",JSON.stringify(a)),W(!1),K(!0),l.a.get("https://api.openweathermap.org/data/2.5/weather?zip=".concat(M,"&appid=").concat(e.webAPIKey,"&units=imperial")).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}else console.log("Incorrect input given. Please provide a valid City or 5 digit Zip code")}}),Object(O.jsx)(m.a,{fluid:!0,children:h?Object(O.jsxs)(g.a,{children:[Object(O.jsxs)(f.a,{sm:12,md:12,lg:12,xl:12,xxl:12,children:[Object(O.jsx)(w.a,{className:"dropShadow",variant:"warning",size:"sm",onClick:function(){p(!0)},children:"Add A Favorite"}),Object(O.jsx)("div",{style:{marginTop:"1rem"},children:z?"No Favorites Added Yet":"Favorites:"})]}),c.map((function(e){return Object(O.jsx)(f.a,{children:Object(O.jsxs)(x.a,{style:{width:"18rem"},className:"dropShadow mt-3 mb-3",children:[Object(O.jsxs)(x.a.Body,{children:[Object(O.jsxs)(x.a.Title,{children:["City: ",e.city]}),Object(O.jsxs)(x.a.Subtitle,{className:"mb-2 text-muted",children:["Current Temperature: ",e.currentTemp,"\xb0"]})]}),Object(O.jsxs)(S.a,{className:"list-group-flush",children:[Object(O.jsxs)(L.a,{children:["Current Weather Conditions: ",e.weatherDescription]}),Object(O.jsxs)(L.a,{children:["High: ",e.highTemp,"\xb0"]}),Object(O.jsxs)(L.a,{children:["Low: ",e.lowTemp,"\xb0"]})]})]})},e.city)}))]}):Object(O.jsx)("div",{children:" Favorites Loading..."})})]})};var N=function(e){var t=Object(n.useState)("a4a8fbe7c144be93020e3a7f15b622db"),a=Object(r.a)(t,1)[0],c=Object(n.useState)(),i=Object(r.a)(c,2),o=i[0],s=i[1],b=Object(n.useState)(),w=Object(r.a)(b,2),S=w[0],L=w[1],M=Object(n.useState)(),T=Object(r.a)(M,2),N=T[0],C=T[1],k=Object(n.useState)(),I=Object(r.a)(k,2),P=I[0],A=I[1],z=Object(n.useState)(),W=Object(r.a)(z,2),B=W[0],E=W[1],H=Object(n.useState)([]),K=Object(r.a)(H,2),_=K[0],J=K[1],D=Object(n.useState)(),Z=Object(r.a)(D,2),q=(Z[0],Z[1]),V=Object(n.useState)(!1),G=Object(r.a)(V,2),$=(G[0],G[1]),R=Object(n.useState)(!1),U=Object(r.a)(R,2),Y=U[0],Q=U[1],X=Object(n.useState)(),ee=Object(r.a)(X,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!0),ce=Object(r.a)(ne,2),ie=ce[0],oe=ce[1],re=Object(n.useState)(!1),se=Object(r.a)(re,2),le=(se[0],se[1]);return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t,n;le(!0),s(e.coords.latitude),L(e.coords.longitude),t=e.coords.latitude,n=e.coords.longitude,oe(!0),console.log("start"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return new Promise((function(a,n){var c=new Promise((function(e){return setTimeout(e,t)}));Promise.all([e,c]).then((function(e){a(e[0])})).catch((function(e){n(e)}))}))}(l.a.get("http://api.openweathermap.org/data/2.5/weather?lat=".concat(t,"&lon=").concat(n,"&appid=").concat(a,"&units=imperial")),0).then((function(e){console.log("local weather",e),q(e.data.weather[0].icon),ae(e.data.name),e.data.clouds.all<=10?(C(!0),A(!1),E(!1)):"01n"===e.data.weather[0].icon||"04n"===e.data.weather[0].icon?(A(!0),C(!1),E(!1)):e.data.clouds.all>10?(C(!1),E(!0),A(!1)):(C(!1),E(!1),A(!1)),oe(!1),console.log("end")})).catch((function(e){console.log(e),oe(!1)}))}))}),[o,S]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(h.a,{className:B?"cloudy":"",style:N?{background:"linear-gradient(180deg,#b8a9af,#FFDF00)"}:P?{background:"black"}:{},children:[P?Object(O.jsx)(d.a,{style:{fill:"white"}}):N?Object(O.jsx)(j.a,{}):B?Object(O.jsx)(u.a,{style:{color:"white"}}):Object(O.jsx)("div",{}),ie?Object(O.jsx)(p,{}):N?Object(O.jsxs)("h2",{children:["Congrats it's sunny in ",te,"!"]}):B?Object(O.jsxs)("h2",{style:{color:"white"},children:["Looks like it's cloudy in ",te]}):P?Object(O.jsxs)("h2",{style:{color:"white"},children:["Go to sleep, and good night, may the sun shine brightly tomorrow in ",te]}):Object(O.jsxs)("h2",{children:["Oh dear...it looks like it's not sunny in ",te]})]}),Object(O.jsx)("br",{}),ie?Object(O.jsx)(O.Fragment,{children:"Please Hold..."}):Object(O.jsx)(m.a,{fluid:!0,children:Object(O.jsxs)(g.a,{children:[Object(O.jsxs)(f.a,{sm:12,md:6,lg:6,xl:6,style:{borderStyle:"solid"},children:[Object(O.jsx)(v,{checkSun:N,currentLat:o,currentLon:S,webApiKey:a,loadingWeather:function(e){return $(e)},hasWeatherLoaded:function(e){return Q(e)},places:function(e){return J(e)}}),Y?Object(O.jsx)("p",{style:{marginTop:"1rem"},children:"It is currently sunny here: "}):Object(O.jsx)("p",{style:{marginTop:"1rem"},children:"Just waiting on you to click on that button"}),_.map((function(e){return Object(O.jsx)(f.a,{children:Object(O.jsxs)(x.a,{style:{width:"18rem"},className:"sunny mt-5 dropShadow",children:[Object(O.jsx)(j.a,{style:{fill:"orange"}}),Object(O.jsx)(x.a.Title,{children:e.name}),Object(O.jsxs)(x.a.Body,{className:"sunny",children:[e.weather,Object(O.jsx)(y,{currentLat:o,currentLon:S,destinationLat:e.lat,destinationLon:e.lon})]})]})},e.name)}))]}),Object(O.jsx)(f.a,{sm:12,md:6,lg:6,xl:6,style:{borderStyle:"solid"},children:Object(O.jsx)(F,{webAPIKey:a})})]})})]})};var C=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(N,{})})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,72)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),i(e),o(e)}))};o.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(C,{})}),document.getElementById("root")),k()}},[[67,1,2]]]);
//# sourceMappingURL=main.812631bb.chunk.js.map